<mat-card>
  <mat-card-header>
    <mat-card-title>Admin Dashboard Analytics</mat-card-title>
    <mat-card-subtitle
      >Comprehensive system metrics and insights</mat-card-subtitle
    >
    <button
      mat-icon-button
      (click)="refreshAll()"
      matTooltip="Refresh all data"
      [disabled]="loading"
    >
      <mat-icon>refresh</mat-icon>
    </button>
  </mat-card-header>

  @if(loading){
  <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  }

  <mat-card-content>
    @if(error){
    <div class="error-message">
      <span>{{ error }}</span>
      <button mat-icon-button (click)="dismissError()">
        <mat-icon>close</mat-icon>
      </button>
    </div>
    }

    <mat-tab-group>
      <mat-tab label="Overview">
        <app-overview />
      </mat-tab>
      <mat-tab label="User Analytics">
        <app-user-analytics />
      </mat-tab>
      <mat-tab label="Research Analytics">
        <app-research-analytics />
      </mat-tab>
      <mat-tab label="System Analytics">
        <app-system-analytics />
      </mat-tab>
    </mat-tab-group>
  </mat-card-content>
</mat-card>
