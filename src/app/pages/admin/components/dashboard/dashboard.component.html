<mat-card>
  <mat-card-header
    class="flex sm:gap-3 gap-1 items-center sm:justify-between justify-center flex-wrap sm:flex-row flex-col"
  >
    <mat-card-title>
      <h1 class="text-2xl font-semibold pb-[15px] sm:text-start text-center">
        Аналітика панелі адміністратора
      </h1>
    </mat-card-title>

    <button
      mat-icon-button
      (click)="refreshAll()"
      matTooltip="Refresh all data"
      [disabled]="loading"
    >
      <mat-icon>refresh</mat-icon>
    </button>
  </mat-card-header>

  @if(loading){
  <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  }

  <mat-card-content>
    @if(error){
    <div class="flex items-center justify-between gap-4 p-4">
      <p class="text-lg font-semibold text-red-500 sm:text-start text-center">
        {{ error }}
      </p>
      <button mat-icon-button (click)="dismissError()">
        <mat-icon>close</mat-icon>
      </button>
    </div>
    }

    <mat-tab-group>
      <mat-tab label="Overview">
        <app-overview />
      </mat-tab>
      <mat-tab label="User Analytics">
        <app-user-analytics />
      </mat-tab>
      <mat-tab label="Research Analytics">
        <app-research-analytics />
      </mat-tab>
      <mat-tab label="System Analytics">
        <app-system-analytics />
      </mat-tab>
    </mat-tab-group>
  </mat-card-content>
</mat-card>
