@let generalInformationForm = generalInformationFormSig(); @let tags = tags$ |
async;

<form
  [formGroup]="generalInformationForm"
  class="project-general-information__form"
>
  <mat-form-field>
    <mat-label>Title</mat-label>
    <input
      matInput
      placeholder="Creation of a new graphics render model"
      formControlName="title"
    />
  </mat-form-field>
  <div style="display: flex; flex-direction: column">
    <mat-label>Progress</mat-label>
    <mat-slider min="0" max="100" step="1" showTickMarks discrete>
      <input
        matSliderThumb
        [(value)]="generalInformationFormSig().controls.progress.value"
      />
    </mat-slider>
  </div>
  <mat-form-field>
    <mat-label>Description</mat-label>
    <textarea
      matInput
      placeholder="A new model for the graphics render"
      formControlName="description"
    ></textarea>
  </mat-form-field>
  <mat-form-field>
    <mat-label>Tags</mat-label>
    <mat-select formControlName="tags" multiple [compareWith]="compareTags">
      <input placeholder="Custom tag" />
      @for (tag of tags; track tag) {
      <mat-option [value]="tag.id">{{ tag.name }}</mat-option>
      }
    </mat-select>
  </mat-form-field>

  <shared-multiple-file-upload
    [formControl]="generalInformationForm.controls.attachments"
    [entityType]="entityTypeSig()"
    (uploadComplete)="onUploadComplete($event)"
  />

  <div>
    <button mat-button matStepperPrevious>Back</button>
    <button
      mat-button
      matStepperNext
      [disabled]="generalInformationForm.invalid"
    >
      Next
    </button>
  </div>
</form>
