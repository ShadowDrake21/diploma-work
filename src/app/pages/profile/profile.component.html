<div class="profile">
  <div class="profile__inner">
    <profile-info />

    @if (isLoading()) {
    <div class="loading-spinner">
      <custom-loader [diameter]="50" />
      <p>Loading your projects...</p>
    </div>
    } @if (error()) {
    <div class="error-message">
      <mat-icon>error_outline</mat-icon>
      <p>{{ error() }}</p>
      <button mat-raised-button color="primary" (click)="onFiltersReset()">
        Retry
      </button>
    </div>
    } @if(!isLoading() && !error()) {
    <shared-profile-projects
      [projects]="myProjects()"
      [currentPage]="currentPage()"
      (filters)="onFiltersChanged($event)"
      (pageChange)="onPageChanged($event)"
    />
    }
    <profile-my-comments />
  </div>
</div>
