<div class="profile__container">
  <div class="profile__top">
    @if (user()) {
    <profile-avatar
      [user]="user()!"
      (updateSuccess)="handleAvatarSucess($event)"
      (updateFailure)="handleAvatarFailure()"
    />

    @if(!editMode()) {
    <profile-view [user]="user()!" (edit)="editMode.set(true)" />
    } @else {
    <profile-edit
      [user]="user()!"
      [isLoading]="isLoading()"
      (save)="onSave($event)"
      (cancel)="editMode.set(false)"
    />
    } } @else {
    <div class="profile-loading">
      <mat-progress-bar
        mode="indeterminate"
        style="width: 100%"
      ></mat-progress-bar>
    </div>
    }
  </div>
</div>
