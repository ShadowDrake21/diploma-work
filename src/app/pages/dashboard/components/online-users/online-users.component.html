<!-- <div>
  <mat-card>
    <mat-card-header>
      <mat-card-title>Currently Online Users</mat-card-title>
      <mat-card-subtitle
        >List of users currently online in last 15 minutes</mat-card-subtitle
      >
    </mat-card-header>
    <mat-card-content>
      <div class="controls">
        <button
          mat-raised-button
          color="primary"
          (click)="refreshActiveUsers()"
        >
          <mat-icon>refresh</mat-icon>
          Refresh
        </button>
      </div>

      @if (activeUsers()) {
      <table
        mat-table
        [dataSource]="activeUsers()?.data || []"
        class="mat-elevation-z8"
      >
        <ng-container matColumnDef="username">
          <th mat-header-cell *matHeaderCellDef>Username</th>
          <td mat-cell *matCellDef="let user">
            <div class="user-cell">
              <img
                [src]="user.avatarUrl || 'assets/default-avatar.png'"
                class="avatar"
                alt="User avatar"
              />
              {{ user.username }}
            </div>
          </td>
        </ng-container>

        <ng-container matColumnDef="email">
          <th mat-header-cell *matHeaderCellDef>Email</th>
          <td mat-cell *matCellDef="let user">{{ user.email }}</td>
        </ng-container>

        <ng-container matColumnDef="lastActive">
          <th mat-header-cell *matHeaderCellDef>Status</th>
          <td mat-cell *matCellDef="let user">
            <span class="status-indicator online"></span>
            Online now
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
      } @else {
      <mat-spinner diameter="30"></mat-spinner>
      }
    </mat-card-content>
  </mat-card>
</div> -->
<div>
  @if (activeUsers()?.data; as users) { @for (user of users; track user.id) {
  <shared-user-card [user]="user" />
  } }
</div>
